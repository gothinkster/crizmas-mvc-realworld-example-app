(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{46:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return m}));var r=a(0),o=a.n(r),l=a(3),n=a.n(l),s=a(57);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}class m extends r.Component{constructor(){super(),this.onSubmit=e=>{e.preventDefault(),this.props.controller.form.submit()},this.onClickLogout=()=>{this.props.controller.logout()}}render(){const{form:e,serverErrors:t,isPending:a}=this.props.controller;return o.a.createElement("div",{className:"settings-page"},o.a.createElement("div",{className:"container page"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},o.a.createElement("h1",{className:"text-xs-center"},"Your Settings"),t&&o.a.createElement("ul",{className:"error-messages"},t.map((e,t)=>o.a.createElement("li",{key:t},e))),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("fieldset",null,o.a.createElement("fieldset",{className:"form-group"},o.a.createElement(s.a,i({inputClassName:"form-control",type:"text",placeholder:"URL of profile picture",disabled:a},e.get("image")))),o.a.createElement("fieldset",{className:"form-group"},o.a.createElement(s.a,i({inputClassName:"form-control form-control-lg",type:"text",placeholder:"Your Name",disabled:a},e.get("username")))),o.a.createElement("fieldset",{className:"form-group"},o.a.createElement(s.a,i({inputClassName:"form-control form-control-lg",type:"textarea",placeholder:"Short bio about you",inputProps:{rows:"8"},disabled:a},e.get("bio")))),o.a.createElement("fieldset",{className:"form-group"},o.a.createElement(s.a,i({inputClassName:"form-control form-control-lg",type:"email",placeholder:"Email",disabled:a},e.get("email")))),o.a.createElement("fieldset",{className:"form-group"},o.a.createElement(s.a,i({inputClassName:"form-control form-control-lg",type:"password",placeholder:"Password",disabled:a},e.get("password")))),o.a.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right",disabled:a},"Update Settings"))),o.a.createElement("hr",null),o.a.createElement("button",{className:"btn btn-outline-danger",disabled:a,onClick:this.onClickLogout},"Or click here to logout.")))))}}m.propTypes={controller:n.a.object.isRequired}},47:function(e,t,a){"use strict";a.r(t);var r=a(22),o=a(43),l=a(14),n=a(10),s=a(2),i=a(11);t.default=Object(r.a)((function(){const e={userController:i.a,form:null,serverErrors:null,onEnter:()=>{if(!s.b.isAuthenticated)return n.a.transitionTo("/login"),!1;t()}},t=()=>{e.form=new o.a({children:[{name:"image",initialValue:s.b.image},{name:"username",initialValue:s.b.username,validate:Object(l.c)(Object(l.a)(),Object(i.c)())},{name:"bio",initialValue:s.b.bio},{name:"email",initialValue:s.b.email,validate:Object(l.a)()},{name:"password",validate:Object(i.b)()}],actions:{submit:()=>{e.update(e.form.getResult())}},onFormChange:()=>{e.serverErrors=null}})};return e.update=({username:t,email:a,password:r,image:o,bio:l})=>(e.serverErrors=null,i.a.update({username:t,email:a,password:r,image:o,bio:l}).then(()=>{n.a.transitionTo("/")},t=>{e.serverErrors=t})),e.logout=()=>{i.a.logout(),n.a.transitionTo("/")},e}))}}]);
//# sourceMappingURL=settings.bundle-185ebfd46c6b5de77702.js.map